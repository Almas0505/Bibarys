# ПРИЛОЖЕНИЕ А

## ТЕХНИЧЕСКОЕ ЗАДАНИЕ
### на разработку веб-системы автоматизации учета товаров "Bibarys"

---

### 1. ОБЩИЕ СВЕДЕНИЯ

**1.1. Наименование системы:** Веб-система автоматизации учета товаров "Bibarys"

**1.2. Назначение системы:** Автоматизация процессов товарного учета, управления заказами и аналитики продаж в продуктовом магазине

**1.3. Заказчик:** Дипломный проект

**1.4. Разработчик:** Студент группы ИС-21

**1.5. Сроки разработки:** 3 месяца (декабрь 2025 - февраль 2026)

---

### 2. ОСНОВАНИЕ ДЛЯ РАЗРАБОТКИ

Разработка системы осуществляется в рамках выполнения дипломной работы на тему "Система учета товаров продуктового магазина" для получения степени бакалавра по специальности "Информационные системы".

**Проблемы, решаемые системой:**
- Высокая вероятность ошибок при ручном учете товаров
- Временные затраты на формирование отчетов (30-40 минут вручную)
- Сложность контроля остатков товаров на складе
- Отсутствие аналитики продаж в режиме реального времени
- Риски хищений и злоупотреблений при отсутствии автоматизированного учета

---

### 3. ЦЕЛИ И ЗАДАЧИ СОЗДАНИЯ СИСТЕМЫ

**3.1. Цель создания системы:**

Разработка веб-приложения для автоматизации учета товаров в продуктовом магазине, обеспечивающего:
- Автоматизацию процесса ведения товарного учета
- Контроль остатков товаров на складе в режиме реального времени
- Формирование аналитических отчетов о продажах
- Повышение эффективности работы персонала магазина
- Минимизацию ошибок и потерь, связанных с человеческим фактором

**3.2. Задачи системы:**

1. Реализация CRUD-функций для управления товарами (создание, чтение, обновление, удаление)
2. Автоматический расчет остатков товаров на складе при оформлении заказов
3. Генерация отчетов о продажах и движении товаров в формате PDF
4. Разработка интерфейсов для трех ролей: покупатель, продавец, администратор
5. Обеспечение безопасности данных (аутентификация, авторизация, шифрование)

---

### 4. ТРЕБОВАНИЯ К СИСТЕМЕ

#### 4.1. Функциональные требования

**4.1.1. Модуль аутентификации и авторизации**

- Регистрация новых пользователей с указанием email, имени, фамилии, пароля
- Вход в систему по email и паролю
- Генерация JWT-токена со сроком действия 7 дней
- Разграничение прав доступа по ролям: customer (покупатель), seller (продавец), admin (администратор)
- Возможность восстановления пароля (опционально)

**4.1.2. Модуль управления товарами**

- Добавление новых товаров с указанием:
  - Названия (обязательно, от 3 до 255 символов)
  - Описания (опционально, до 2000 символов)
  - Цены (обязательно, > 0, до 2 знаков после запятой)
  - Количества на складе (обязательно, >= 0)
  - Категории (опционально)
  - Фотографий (до 5 изображений)
- Редактирование существующих товаров (только владелец или админ)
- Удаление товаров (с проверкой: нельзя удалить товар, присутствующий в заказах)
- Просмотр списка товаров с фильтрацией по категориям
- Поиск товаров по названию
- Сортировка товаров по цене, дате добавления, популярности

**4.1.3. Модуль категорий**

- Создание новых категорий товаров (только админ)
- Редактирование названий категорий
- Удаление категорий (с переносом товаров в "Без категории")
- Просмотр списка всех категорий

**4.1.4. Модуль корзины покупок**

- Добавление товаров в корзину с указанием количества
- Изменение количества товаров в корзине
- Удаление товаров из корзины
- Очистка всей корзины
- Автоматический расчет итоговой стоимости
- Проверка наличия товаров на складе

**4.1.5. Модуль избранного (Wishlist)**

- Добавление товаров в список избранного
- Удаление товаров из избранного
- Быстрое перемещение товаров из избранного в корзину

**4.1.6. Модуль оформления заказов**

- Трехшаговый процесс оформления:
  1. Ввод данных доставки (адрес, телефон)
  2. Выбор способа оплаты (кошелек, карта, наличные)
  3. Подтверждение заказа
- Автоматическое создание заказа в БД
- Уменьшение остатков товаров на складе
- Очистка корзины после оформления
- Списание средств с кошелька (если выбран этот способ оплаты)

**4.1.7. Модуль управления заказами**

- Просмотр списка заказов:
  - Покупатель: только свои заказы
  - Продавец: заказы с его товарами
  - Администратор: все заказы в системе
- Фильтрация заказов по статусу (pending, processing, completed, cancelled)
- Поиск заказов по номеру, email покупателя
- Изменение статуса заказа (только админ или продавец)
- Просмотр детальной информации о заказе (товары, суммы, адрес доставки)
- Отмена заказа (с возвратом товаров на склад)

**4.1.8. Модуль отзывов**

- Добавление отзывов на товары с рейтингом от 1 до 5 звезд
- Редактирование своих отзывов
- Удаление своих отзывов
- Просмотр всех отзывов на товар
- Вычисление среднего рейтинга товара

**4.1.9. Модуль кошелька**

- Просмотр баланса кошелька
- Пополнение баланса
- Просмотр истории транзакций
- Оплата заказов из кошелька

**4.1.10. Модуль аналитики и отчетности**

- Dashboard администратора:
  - Общее количество пользователей, товаров, заказов
  - Общая выручка и средний чек
  - График продаж за последние 7 дней
  - Список последних 5 заказов
- Аналитика продавца:
  - Количество товаров в каталоге
  - Количество заказов с товарами продавца
  - Выручка от продаж
  - Топ-5 продаваемых товаров
- Генерация PDF-отчетов:
  - Отчет о продажах за период
  - Список товаров на складе
  - Детализация заказов

**4.1.11. Модуль управления пользователями (только админ)**

- Просмотр списка всех пользователей
- Поиск пользователей по email или имени
- Фильтрация по ролям (customer, seller, admin)
- Изменение роли пользователя
- Блокировка/разблокировка учетных записей
- Удаление пользователей

**4.1.12. Модуль загрузки файлов**

- Загрузка изображений товаров (форматы: JPG, PNG, WEBP)
- Автоматическое изменение размера изображений до 800x800 пикселей
- Хранение изображений в директории `/static/uploads/products/`
- Генерация уникальных имен файлов (UUID)

---

#### 4.2. Требования к производительности

- Время ответа API на запросы: не более 100 мс (среднее)
- Максимальное время ответа: не более 500 мс (99-й перцентиль)
- Поддержка одновременной работы не менее 50 пользователей
- Пропускная способность: не менее 100 запросов в секунду
- Размер передаваемых данных: минимизация через pagination и lazy loading

---

#### 4.3. Требования к безопасности

**4.3.1. Аутентификация и авторизация**

- Хеширование паролей с использованием bcrypt (cost factor = 12)
- JWT-токены с секретным ключом длиной не менее 256 бит
- Срок действия токена: 7 дней
- Автоматическое удаление токена при выходе из системы

**4.3.2. Защита от атак**

- Защита от SQL-инъекций через параметризованные запросы (SQLAlchemy ORM)
- Защита от XSS-атак через автоматическое экранирование данных в React
- CORS-политика: разрешенные домены только для production
- Rate limiting: не более 100 запросов в минуту с одного IP
- Валидация всех входных данных на уровне Pydantic схем

**4.3.3. Конфиденциальность данных**

- Пароли хранятся только в виде хеша (bcrypt)
- JWT-токены хранятся в localStorage (frontend)
- Секретные ключи хранятся в переменных окружения (.env)
- HTTPS для production (шифрование трафика)

---

#### 4.4. Требования к надежности

- Отказоустойчивость: автоматический откат транзакций при ошибках
- Резервное копирование БД: ежедневно (в production)
- Логирование критических операций (создание заказов, изменение товаров)
- Обработка ошибок с информативными сообщениями для пользователя
- Graceful degradation: система продолжает работать при недоступности отдельных сервисов

---

#### 4.5. Требования к удобству использования (Usability)

- Интуитивно понятный интерфейс (не требует обучения для покупателей)
- Адаптивная верстка для корректного отображения на устройствах с разрешением от 320px до 1920px
- Время обучения персонала: не более 2 часов
- Наличие подсказок (tooltips) для неочевидных элементов
- Поддержка двух языков: русский, казахский (опционально)

---

#### 4.6. Требования к масштабируемости

- Возможность увеличения нагрузки до 500 одновременных пользователей
- Поддержка базы данных с миллионами записей
- Горизонтальное масштабирование через добавление серверов (Docker Swarm/Kubernetes)
- Оптимизация запросов к БД через индексы и кэширование

---

### 5. ТРЕБОВАНИЯ К АРХИТЕКТУРЕ

**5.1. Общая архитектура:**

Трехуровневая клиент-серверная архитектура:
- **Frontend:** React + TypeScript (Single Page Application)
- **Backend:** FastAPI (Python 3.11+)
- **Database:** PostgreSQL (production), SQLite (development)

**5.2. Взаимодействие компонентов:**

- Frontend ↔ Backend: RESTful API (HTTP/HTTPS, JSON)
- Backend ↔ Database: SQLAlchemy ORM
- Real-time обновления: WebSocket (опционально)

**5.3. Архитектурные паттерны:**

- MVC (Model-View-Controller) на backend
- Redux для управления состоянием на frontend
- Dependency Injection для управления зависимостями
- Repository Pattern для работы с данными

---

### 6. ТЕХНОЛОГИЧЕСКИЙ СТЕК

#### 6.1. Backend

| Компонент | Технология | Версия |
|-----------|------------|--------|
| Язык программирования | Python | 3.11+ |
| Web-фреймворк | FastAPI | 0.109.0 |
| ORM | SQLAlchemy | 2.0.x |
| Валидация данных | Pydantic | 2.x |
| Аутентификация | python-jose (JWT) | 3.3.x |
| Хеширование паролей | passlib + bcrypt | 1.7.x |
| Обработка изображений | Pillow | 10.x |
| Генерация PDF | ReportLab | 4.x |
| ASGI-сервер | Uvicorn | 0.25.x |

#### 6.2. Frontend

| Компонент | Технология | Версия |
|-----------|------------|--------|
| Библиотека UI | React | 18.x |
| Язык | TypeScript | 5.2.x |
| State Management | Redux Toolkit | 2.x |
| Роутинг | React Router | 6.x |
| HTTP-клиент | Axios | 1.6.x |
| CSS-фреймворк | Tailwind CSS | 3.4.x |
| Сборщик | Vite | 5.x |
| Иконки | Lucide React | latest |
| Уведомления | React Hot Toast | 2.x |

#### 6.3. База данных

| Компонент | Технология |
|-----------|------------|
| Production СУБД | PostgreSQL 15+ |
| Development СУБД | SQLite 3.x |

#### 6.4. DevOps

| Компонент | Технология |
|-----------|------------|
| Контейнеризация | Docker, Docker Compose |
| Веб-сервер | Nginx |
| Система контроля версий | Git |

---

### 7. ТРЕБОВАНИЯ К БАЗЕ ДАННЫХ

**7.1. Структура базы данных:**

База данных должна содержать следующие таблицы:

1. **users** - пользователи системы
2. **categories** - категории товаров
3. **products** - товары
4. **orders** - заказы
5. **order_items** - позиции заказов
6. **cart_items** - корзина покупок
7. **wishlist_items** - список избранного
8. **reviews** - отзывы на товары
9. **wallets** - кошельки пользователей

**7.2. Ограничения целостности:**

- PRIMARY KEY для всех таблиц
- FOREIGN KEY с ON DELETE CASCADE/RESTRICT в зависимости от логики
- UNIQUE constraints для уникальных полей (email пользователя)
- CHECK constraints для валидации (price >= 0, rating BETWEEN 1 AND 5)
- NOT NULL для обязательных полей

**7.3. Индексы:**

- Индексы на поля поиска (email, name)
- Индексы на foreign keys
- Составные индексы для часто используемых фильтров

---

### 8. ТРЕБОВАНИЯ К ИНТЕРФЕЙСУ

**8.1. Общие требования:**

- Минималистичный дизайн без перегрузки элементами
- Консистентность элементов интерфейса (единые кнопки, формы, цвета)
- Адаптивная верстка (Responsive Design)
- Темная/светлая тема (опционально)

**8.2. Цветовая схема:**

- Основной цвет (Primary): синий (#3B82F6)
- Акцентный цвет: зеленый (#10B981) для success
- Ошибки: красный (#EF4444)
- Фон: белый (#FFFFFF) и градиенты серого
- Текст: темно-серый (#1F2937)

**8.3. Типографика:**

- Основной шрифт: system-ui, sans-serif
- Размеры: от 12px (мелкий текст) до 32px (заголовки)
- Межстрочный интервал: 1.5

**8.4. Основные страницы:**

1. Главная страница (каталог товаров)
2. Страница товара (детальная информация)
3. Корзина
4. Оформление заказа (Checkout)
5. История заказов
6. Избранное
7. Личный кабинет
8. Панель продавца
9. Панель администратора
10. Страницы входа и регистрации

---

### 9. ТРЕБОВАНИЯ К ТЕСТИРОВАНИЮ

**9.1. Виды тестирования:**

- Функциональное тестирование всех CRUD-операций
- Тестирование безопасности (попытки несанкционированного доступа)
- Тестирование производительности (нагрузочное тестирование)
- Тестирование пользовательского интерфейса (UI/UX)
- Интеграционное тестирование (взаимодействие frontend-backend)

**9.2. Критерии приемки:**

- ✅ Все функциональные требования реализованы
- ✅ Пройдены все тестовые сценарии (минимум 90% успешных)
- ✅ Производительность соответствует требованиям
- ✅ Отсутствуют критические ошибки безопасности
- ✅ Интерфейс корректно отображается на всех устройствах

---

### 10. ТРЕБОВАНИЯ К ДОКУМЕНТАЦИИ

**10.1. Состав документации:**

1. Техническое задание (данный документ)
2. Руководство пользователя (QUICKSTART.md)
3. Руководство администратора (README.md)
4. API-документация (автоматически генерируется Swagger)
5. Диаграммы (ER-диаграмма БД, схема архитектуры)
6. Дипломная работа (введение, аналитическая часть, проектная часть, практическая часть, заключение)

**10.2. Требования к документации:**

- Ясность и структурированность изложения
- Наличие примеров использования
- Скриншоты интерфейсов
- Описание всех API endpoints
- Инструкции по развертыванию

---

### 11. ЭТАПЫ РАЗРАБОТКИ

| № | Этап | Срок | Результат |
|---|------|------|-----------|
| 1 | Проектирование БД и архитектуры | 1 неделя | ER-диаграмма, схема архитектуры |
| 2 | Разработка Backend (базовые модели и API) | 3 недели | Рабочий REST API с документацией |
| 3 | Разработка Frontend (компоненты и страницы) | 3 недели | Интерфейсы для всех ролей |
| 4 | Интеграция Frontend и Backend | 1 неделя | Полностью работающее приложение |
| 5 | Тестирование и исправление ошибок | 2 недели | Протоколы тестирования |
| 6 | Подготовка документации | 1 неделя | Полный комплект документов |
| 7 | Развертывание на production сервер | 1 неделя | Работающая система в интернете |

**Общий срок:** 12 недель (3 месяца)

---

### 12. КРИТЕРИИ ПРИЕМКИ СИСТЕМЫ

**Система считается принятой, если:**

1. ✅ Реализованы все функциональные требования из раздела 4.1
2. ✅ Производительность соответствует требованиям (раздел 4.2)
3. ✅ Обеспечена безопасность данных (раздел 4.3)
4. ✅ Пройдены все тестовые сценарии с успешностью не менее 90%
5. ✅ Интерфейс работает корректно на всех указанных устройствах
6. ✅ Подготовлена полная документация
7. ✅ Система развернута и доступна по URL
8. ✅ Проведено обучение персонала (демонстрация возможностей)

---

### 13. ГАРАНТИИ И ОТВЕТСТВЕННОСТЬ

**13.1. Гарантии разработчика:**

- Система работает в соответствии с техническим заданием
- Исправление критических ошибок в течение 24 часов после обнаружения
- Техническая поддержка в течение 3 месяцев после сдачи проекта

**13.2. Ответственность заказчика:**

- Предоставление тестовых данных для проверки системы
- Своевременная обратная связь на этапе разработки
- Участие в приемочном тестировании

---

### 14. РИСКИ ПРОЕКТА

| Риск | Вероятность | Влияние | Меры по снижению |
|------|-------------|---------|------------------|
| Изменение требований в процессе разработки | Средняя | Высокое | Четкое ТЗ, регулярные встречи |
| Проблемы с производительностью БД | Низкая | Среднее | Оптимизация запросов, индексы |
| Ошибки безопасности | Средняя | Критическое | Code review, security audit |
| Превышение сроков разработки | Низкая | Среднее | Резервное время в плане |
| Проблемы совместимости браузеров | Низкая | Низкое | Тестирование на разных браузерах |

---

**Дата составления ТЗ:** 01 декабря 2025 г.

**Согласовано:**

Разработчик: _________________ (подпись)

Руководитель дипломного проекта: _________________ (подпись)
