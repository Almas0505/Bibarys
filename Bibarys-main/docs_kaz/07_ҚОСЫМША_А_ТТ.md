# ҚОСЫМША А

# ТЕХНИКАЛЫҚ ТАПСЫРМА

## 1. Жалпы мәліметтер

### 1.1. Жобаның атауы

**"Bibarys"** - азық-түлік дүкенінің тауарлар есебінің автоматтандырылған жүйесі (электрондық коммерция платформасы).

### 1.2. Жоба негіздері

Жоба келесі құжаттар мен талаптар негізінде әзірленеді:

1. Қазақстан Республикасының "Дербес деректер және оларды қорғау туралы" Заңы (2013 ж. 21 мамыр № 94-V ҚРЗ)
2. Қазақстан Республикасының "Ақпараттандыру туралы" Заңы (2015 ж. 24 қараша № 418-V ҚРЗ)
3. ГОСТ 34.602-89 "Техническое задание на создание автоматизированной системы"
4. ISO/IEC 25010:2011 (SQuaRE) - Бағдарламалық өнім сапасы стандарты
5. WCAG 2.1 - Веб-қолжетімділік жөніндегі қағидалар

### 1.3. Тапсырыс беруші

Орындаушы - Қарағанды техникалық университетінің магистранты.

Мақсатты аудитория:
- Шағын және орташа азық-түлік дүкендері
- Пайдаланушылар: дүкен әкімшілері, сатушылар, тұтынушылар

### 1.4. Жобаның мақсаттары мен міндеттері

**Мақсат:**
Шағын азық-түлік бизнесінде тауарларды есепке алу, сақтау және сату процестерін автоматтандыратын заманауи веб-қосымшаны әзірлеу.

**Міндеттер:**

1. **Техникалық міндеттер:**
   - Қауіпсіз аутентификациямен көп пайдаланушылы жүйені әзірлеу
   - 3 пайдаланушы рөлімен рөлдік-негізделген қол жеткізуді іске асыру (customer, seller, admin)
   - Тауар каталогын және қойма есебін басқарудың CMS-ін жасау
   - Онлайн-төлем және виртуалды әмиян жүйелерімен интеграциялау
   - Нақты уақыттағы статистика мен есептерді жасау

2. **Бизнес-міндеттер:**
   - Күнделікті операциялар уақытын 60%-ға қысқарту
   - Қолмен есеп пен қателерден бас тарту
   - Қоймадағы тауарларды нақты уақытта бақылау
   - Онлайн-тапсырыстар арқылы сатылымдардың өсуі

3. **Пайдаланушылық міндеттер:**
   - Техникалық білімсіз пайдаланушыларға интуитивті интерфейс
   - Мобильді құрылғылар үшін бейімделу
   - 3 секунд ішінде беттерді жүктеу
   - 99.9% қол жеткізу қолжетімділігі

---

## 2. Жүйе талаптары

### 2.1. Функционалдық талаптар

#### 2.1.1. Пайдаланушыларды басқару

**FR-1.1. Тіркеу:**
- Жүйе email, аты, тегі, құпия сөзбен тіркелуге мүмкіндік беруі керек
- Құпия сөз кемінде 8 таңба болуы керек (әріптер + сандар)
- Email бірегей болуы және формат тексерілуі керек
- Құпия сөзді хэштеу bcrypt (cost factor 12) арқылы орындалуы керек

**FR-1.2. Авторизация:**
- JWT (JSON Web Tokens) арқылы аутентификация
- Токеннің қолданылу мерзімі - 7 күн
- Токенді автоматты жаңарту механизмі (refresh tokens)
- Бір уақытта бірнеше құрылғыдан кіру мүмкіндігі

**FR-1.3. Рөлдерді басқару:**
Жүйе 3 пайдаланушы рөлін қолдауы керек:

| Рөл | Сипаттама | Негізгі мүмкіндіктер |
|------|-----------|---------------------|
| **Customer** (Тұтынушы) | Тауарларды сатып алушы | Каталогты қарау, себет, тапсырыстар, пікірлер, әмиян |
| **Seller** (Сатушы) | Тауарларды қосушы | Customer мүмкіндіктері + өз тауарларын басқару, тапсырыстарды өңдеу |
| **Admin** (Әкімші) | Жүйе әкімшісі | Барлық мүмкіндіктер + пайдаланушылар, санаттар, есептерді басқару |

**FR-1.4. Профильді басқару:**
- Жеке деректерді қарау/өңдеу (аты, тегі, телефон, мекенжай)
- Құпия сөзді өзгерту (ескісін көрсетумен)
- Әмиян балансын қарау

---

#### 2.1.2. Тауарлар каталогы

**FR-2.1. Тауарларды қарау:**
- Барлық белсенді тауарлар тізімін көрсету
- Санаттар бойынша сүзу
- Атауы бойынша іздеу (регистрсіз, кириллица/латын қолдауымен)
- Қойма қалдықтарын нақты уақытта көрсету
- Беттеу (беттік 20 тауар)

**FR-2.2. Тауарды толық қарау:**
- Тауар атауы, сипаттамасы, бағасы
- Бір немесе бірнеше фотосурет (макс. 5)
- Санат және сатушы туралы ақпарат
- Қоймадағы қолжетімділік
- Орташа рейтинг (1-5 жұлдыз)
- Пікірлер тізімі (соңғылары бірінші)

**FR-2.3. Тауарларды басқару (Seller/Admin):**
- Жаңа тауар жасау (атау, сипаттама, баға, саны, санат, фото)
- Тауарды өңдеу (фотоларды қоса)
- Тауарды жою (soft delete - `is_active=False`)
- Тауарлар тізімін қарау санымен және статистикамен

**FR-2.4. Санаттарды басқару (Admin):**
- Санаттар тізімін CRUD операциялары
- Әрбір санаттағы тауарлар санын көрсету
- Санатты жою кезінде тауарларды "Санатсыз" ауыстыру

---

#### 2.1.3. Сатып алу себеті

**FR-3.1. Себетті басқару:**
- Себетке тауар қосу (Customer)
- Себеттегі тауар санын өзгерту (минус/плюс батырмалары)
- Себеттен тауарды жою
- Себетті толық тазалау
- Түпкілікті соманы автоматты есептеу

**FR-3.2. Себетті көрсету:**
- Тауардың миниатюрасы, атауы, бағасы
- Саны таңдау өрісі (1-ден қоймадағы максималды қалдыққа дейін)
- Позицияның түпкілікті құны (баға × саны)
- Барлық себет бойынша сома

**FR-3.3. Себетті валидациялау:**
- Егер қоймада тауар жеткіліксіз болса, қосуды болдырмау
- Рәсімдеу алдында тауар қалдықтарын тексеру
- Саны өзгерткенде нақты уақытта сома қайта есептелу

---

#### 2.1.4. Тапсырыстарды рәсімдеу

**FR-4.1. Тапсырыс жасау:**
1. Клиент себетке тауарларды қосады
2. "Тапсырысты рәсімдеу" батырмасын басады
3. Жеткізу деректерін көрсетеді:
   - Жеткізу мекенжайы (міндетті)
   - Телефон (маска: +7 (___) ___-__-__)
   - Түсініктеме (міндетті емес)
4. Төлем әдісін таңдайды:
   - Қолма-қол ақша алғанда
   - Картамен төлеу (еліктеу)
   - Әмияннан төлеу
5. Тапсырысты растайды

**FR-4.2. Тапсырыс өңдеу логикасы:**

Тапсырыс расталғаннан кейін жүйе:
1. Тауарлардың қойда бар-жоғын тексереді
2. `orders` кестесінде жазба жасайды (мәртебе `pending`)
3. Себеттегі әрбір тауар үшін `order_items` жасайды
4. Тауарлар қалдығын атомды кемітеді:
   ```sql
   UPDATE products 
   SET stock_quantity = stock_quantity - :quantity
   WHERE id = :product_id AND stock_quantity >= :quantity
   ```
5. "Әмиян" әдісі таңдалса, балансты кемітеді:
   ```sql
   UPDATE wallets 
   SET balance = balance - :total_amount
   WHERE user_id = :user_id AND balance >= :total_amount
   ```
6. Себетті тазалайды (`DELETE FROM cart_items WHERE user_id = :user_id`)
7. Транзакцияны COMMIT етеді (қате болса - ROLLBACK)

**FR-4.3. Тапсырыстар тізімі:**
- Пайдаланушы өз тапсырыстары тізімін көреді (соңғылары бірінші)
- Әрбір тапсырыс үшін көрсетіледі:
  - Тапсырыс №
  - Жасалу күні
  - Сома
  - Мәртебе (Pending, Processing, Completed, Cancelled)
  - "Толығырақ" сілтемесі

**FR-4.4. Тапсырысты толық қарау:**
- Тауарлар тізімі (атау, сан, баға, түпкілікті сома)
- Жалпы сома
- Жеткізу мекенжайы, телефон
- Төлем әдісі
- Мәртебе және жасалу күні
- Клиент үшін: тапсырысты болдыру батырмасы (мәртебе `pending` болса)

---

#### 2.1.5. Тапсырыстарды басқару (Seller/Admin)

**FR-5.1. Тапсырыстар тізімі:**
- Сатушы өзінің тауарларын қамтитын тапсырыстарды көреді
- Әкімші барлық тапсырыстарды көреді
- Мәртебе бойынша сүзу (Барлығы, Pending, Processing, т.б.)
- Күн аралығы бойынша сүзу

**FR-5.2. Тапсырыс мәртебесін өзгерту:**
- Сатушы/Әкімші мәртебені өзгерте алады:
  - Pending → Processing (өңдеуде)
  - Processing → Completed (орындалды)
  - Кез келген мәртебе → Cancelled (болдырылды)
- Мәртебе логы (әрбір өзгеріс күнімен тіркеледі)

**FR-5.3. Тапсырысты болдыру:**
- Тапсырысты болдырған кезде:
  - Мәртебе `cancelled` қойылады
  - Тауарлар қалдығы қайтарылады (қайта қосылады)
  - Егер әмиянмен төленсе, ақша қайтарылады

---

#### 2.1.6. Пікірлер мен рейтинг

**FR-6.1. Пікір қалдыру:**
- Тек тауарды сатып алған пайдаланушылар (тапсырыс мәртебе `completed`)
- Әрбір тапсырысқа бір рет пікір (қайта қалдыруға болмайды)
- Пікірдің құрамы:
  - 1-ден 5-ке дейінгі рейтинг (жұлдызшалар)
  - Мәтіндік түсініктеме (1000 таңбаға дейін)
  - Жасалу күні (автоматты)

**FR-6.2. Пікірлерді көрсету:**
- Тауар бетінде соңғы 5 пікір
- "Барлық пікірлерді көру" сілтемесі
- Пікірлер туралы ақпарат:
  - Пікір авторы (аты-жөні)
  - Рейтинг (жұлдызшалар)
  - Мәтін
  - Күні

**FR-6.3. Орташа рейтингті есептеу:**
- Тауардың орташа рейтингі пікірлер бойынша автоматты есептеледі
- Каталогта рейтинг пен пікірлер санымен көрсетіледі
- Пікір қалдыру/жою кезінде нақты уақытта қайта есептеу

---

#### 2.1.7. Виртуалды әмиян

**FR-7.1. Әмиян құру:**
- Әрбір жаңа пайдаланушы үшін автоматты жасалады (баланс: 0 ₸)
- Әрбір пайдаланушыға бір әмиян
- Әмиян жазбасы пайдаланушымен FOREIGN KEY байланысады (CASCADE DELETE)

**FR-7.2. Әмиянды толтыру:**
- Пайдаланушы соманы көрсетеді
- "Картамен төлеу" батырмасын басады (еліктеу)
- Баланс көрсетілген сомаға өседі
- Балансты толтыру операциясы `wallet_transactions` кестесінде тіркеледі

**FR-7.3. Әмияннан шегеру:**
- Тапсырыс жасау кезінде автоматты (төлем әдісі "Әмиян")
- Баланс жеткілікті болуын тексеру:
  ```python
  if wallet.balance < order_total:
      raise HTTPException(400, "Әмиянда қаражат жеткіліксіз")
  ```
- Сәтті болса, баланс кемиді
- Операция `wallet_transactions` тіркеледі

**FR-7.4. Транзакциялар тарихы:**
- Пайдаланушы барлық әмиян операцияларын көреді:
  - Күні
  - Түрі (толтыру / шегеру)
  - Сома
  - Сипаттама (мысалы, "Тапсырыс №1234 үшін төлем")
  - Транзакция кейінгі баланс

---

#### 2.1.8. Есептер мен аналитика (Admin)

**FR-8.1. Дашборд (Dashboard):**
- Негізгі статистика карточкалары:
  - Пайдаланушылар саны (рөлдер бойынша бөлу)
  - Тауарлар саны (белсенді/белсенді емес)
  - Тапсырыстар саны (мәртебе бойынша)
  - Жалпы кіріс (уақыт кесіндісі бойынша)
  - Орташа чек
- Соңғы күндердегі сатылымдар графигі (Bar Chart)
- Соңғы тапсырыстар тізімі (5 дана)

**FR-8.2. Тауарлар есебі:**
- Кестесі бар тауарлар тізімі:
  - Атауы
  - Санат
  - Баға
  - Қойма қалдығы
  - Сатылған саны (жалпы)
  - Жалпы кіріс (баға × сатылған саны)
- CSV-ға экспорт
- Санат, сату бойынша сұрыптау

**FR-8.3. Сатылымдар есебі:**
- Күн аралығы бойынша есеп
- Көрсетілетін метрикалар:
  - Тапсырыстар саны
  - Жалпы кіріс
  - Орташа чек
  - Ең сатылған тауарлар (ТОП-10)
  - Рейтингтер бойынша ең жақсы тауарлар
- PDF форматында есепті жүктеу

---

### 2.2. Өнімділік талаптары

**NFR-1. Жауап беру уақыты:**
- Негізгі бет (каталог) жүктелуі: < 3 секунд
- API endpoints жауап уақыты: < 500 мс (90% сұраныстар үшін)
- Іздеу сұранысы: < 1 секунд

**NFR-2. Бір уақытта пайдаланушылар:**
- Жүйе қосымша баптаусыз 100 бір уақытта пайдаланушыларды қолдауы керек
- Horizontal scaling арқылы 1000+ қолдау мүмкіндігі

**NFR-3. Дерекқор өнімділігі:**
- Қосымша индекстерсіз 10,000 тауарларды өңдеу
- Қосымша оптимизациямен 100,000+ масштабтау мүмкіндігі

---

### 2.3. Қауіпсіздік талаптары

**NFR-4. Аутентификация және авторизация:**
- Құпия сөздерді bcrypt (cost 12) хэштеу
- JWT-токендер HS256 алгоритмімен қол қойылуы керек
- Токеннің қолданылу мерзімі: 7 күн
- Барлық қорғалған API endpoints токенді міндетті тексеру

**NFR-5. Деректерді валидациялау:**
- Барлық пайдаланушы кірістерін Pydantic схемалары арқылы валидациялау
- SQL Injection болдырмау (SQLAlchemy ORM пайдалану)
- XSS болдырмау (frontend-те HTML экрандау)
- CSRF қорғанысы (SameSite cookies)

**NFR-6. Деректерді қорғау:**
- HTTPS (SSL/TLS) арқылы барлық трафик шифрлау
- Дербес деректер дерекқорда ашық сақталмайды (қажет болса хэш/шифрлау)
- Құпия сөздер backend логтарында көрсетілмейді
- JWT құпия кілті `.env` сақталады және репозиторийге commit етілмейді

**NFR-7. Рөлдік қол жеткізу:**
- Әрбір endpoint пайдаланушы рөлін тексеруі керек
- Сатушы тек өз тауарларын өңдей алады
- Әкімші барлық ресурстарға қол жеткізе алады
- Өзгенің деректерін өзгертуге әрекеттер 403 Forbidden қайтаруы керек

---

### 2.4. Сенімділік талаптары

**NFR-8. Қолжетімділік (Availability):**
- Uptime (қол жеткізу қолжетімділігі): ≥ 99.5% (айына ~3.6 сағат downtime)
- Жоспарлы техникалық қызмет көрсету: түнгі уақытта (00:00 - 06:00)

**NFR-9. Деректерді сақтау:**
- Дерекқорды күнделікті бэкаптеу (автоматты)
- Бэкаптерді 30 күн сақтау
- Деректерді қалпына келтіру уақыты: < 4 сағат

**NFR-10. Қателерді өңдеу:**
- Барлық критикалық қателер серверде логталуы керек
- Пайдаланушыларға техникалық қатені көрсетпеу (тек жалпы хабарлама)
- Қателер кезінде деректер тұтастығын сақтау (транзакциялар қайтарылуы керек)

---

### 2.5. Пайдаланылушылық (Usability) талаптары

**NFR-11. Интерфейс:**
- Интуитивті навигация (3 click ережесі: кез келген функция 3 click ішінде қол жеткізу)
- Қазақ және орыс тілдерін қолдау
- Түсті көрмейтіндерге арналған контрастты түстер (WCAG 2.1 AA стандарты)
- Пернетақта арқылы навигация (Tab, Enter, Esc)

**NFR-12. Бейімделу (Responsive Design):**
- Мобильді құрылғылар: 320px енінен бастап
- Планшеттер: 768px - 1024px
- Десктоп: 1280px және үлкен

**NFR-13. Түсінікті хабарламалар:**
- Сәтті әрекеттер: жасыл түспен Toast хабарлама (3 секунд)
- Қателер: қызыл түспен Toast хабарлама (5 секунд)
- Валидация қателері: өріс астында нақты мәтін

---

### 2.6. Масштабталушылық (Scalability) талаптары

**NFR-14. Деректер өсімі:**
- 100,000 тауарларға дейін масштабтауға дайын
- 1,000,000 пайдаланушыларға дейін масштабтауға дайын
- 10,000,000 тапсырыстарға дейін масштабтауға дайын

**NFR-15. Horizontal Scaling:**
- Backend контейнерлері Load Balancer арқылы масштабтауға болады
- Stateless API (сессия күйі backend-те сақталмайды)
- Кэштеу қолдауы (Redis немесе Memcached)

---

## 3. Архитектуралық талаптар

### 3.1. Ерекшелік үлгісі

Жүйе **3-қатты клиент-сервер архитектурасын** пайдалануы керек:

```
┌────────────────┐
│   Frontend     │ ← React + TypeScript + Tailwind CSS
│   (Client)     │
└───────┬────────┘
        │ HTTPS (REST API)
        ↓
┌────────────────┐
│   Backend      │ ← FastAPI (Python 3.11+)
│   (Server)     │
└───────┬────────┘
        │ SQLAlchemy ORM
        ↓
┌────────────────┐
│   Database     │ ← PostgreSQL 15+
└────────────────┘
```

**Тұжырым:**
- **Frontend** - толық frontend логикамен SPA (Single Page Application)
- **Backend** - RESTful API, бизнес-логика, валидация
- **Database** - деректерді сақтау, транзакциялар, ACID қасиеттері

---

### 3.2. Технологиялық стек

#### 3.2.1. Backend (Сервер бөлігі)

| Құрама | Технология | Нұсқа | Негіздеме |
|------------|------------|--------|-----------|
| Фреймворк | **FastAPI** | 0.109+ | Жоғары өнімділік, автоматты API құжаттама, async қолдау |
| Тіл | **Python** | 3.11+ | Қарапайымдылық, үлкен экосистема, жақсы ORM қолдау |
| ORM | **SQLAlchemy** | 2.0+ | Танымал, қуатты, қауіпсіз сұраныстар |
| Валидация | **Pydantic** | 2.0+ | Кіріс деректерін автоматты тексеру, түрлерді басқару |
| Аутентификация | **python-jose** | 3.3+ | JWT токендерін жасау/тексеру |
| Құпия сөз | **passlib[bcrypt]** | 1.7+ | Құпия сөздерді қауіпсіз хэштеу |
| CORS | **fastapi.middleware.cors** | Built-in | Кросс-домендік сұраныстарға рұқсат |

#### 3.2.2. Frontend (Клиент бөлігі)

| Құрама | Технология | Нұсқа | Негіздеме |
|------------|------------|--------|-----------|
| Фреймворк | **React** | 18+ | Компоненттік ерекшелік, виртуалды DOM, үлкен қоғамдастық |
| Тіл | **TypeScript** | 5.0+ | Типтеу, қателерді дамыту кезінде анықтау |
| Роутинг | **React Router** | 6+ | SPA үшін навигация |
| Күй басқаруы | **Redux Toolkit** | 2.0+ | Жаһандық күйді басқару, devtools |
| HTTP клиент | **Axios** | 1.6+ | Interceptors, қателерді өңдеу |
| Стильдер | **Tailwind CSS** | 3.4+ | Utility-first, responsive, қарапайымдылық |
| Білдірулер | **React Hot Toast** | 2.4+ | Жеңіл, қарапайым Toast хабарламалары |
| Иконкалар | **Lucide React** | 0.300+ | Заманауи, өзгертілетін SVG иконкалар |
| Build құралы | **Vite** | 5.0+ | Жылдам HMR, build оптимизациясы |

#### 3.2.3. Дерекқор

| Құрама | Технология | Нұсқа | Негіздеме |
|------------|------------|--------|-----------|
| СУБҚ | **PostgreSQL** | 15+ | ACID, JSON қолдау, кеңейту, өнімділік |
| (Әзірлеу) | **SQLite** | 3.40+ | Қарапайымдылық, файлдық, орнату қажет емес |

---

### 3.3. Дерекқор талаптары

**REQ-DB-1. Кестелер:**
Жүйе кемінде 9 кестені қамтуы керек:
- `users` - пайдаланушылар
- `products` - тауарлар
- `categories` - тауарлар санаттары
- `cart_items` - себет
- `orders` - тапсырыстар
- `order_items` - тапсырыс позициялары
- `reviews` - пікірлер
- `wallets` - әмияндар
- `wallet_transactions` - әмиян транзакциялары

**REQ-DB-2. Байланыстар:**
- `products.seller_id` → `users.id` (CASCADE DELETE)
- `products.category_id` → `categories.id` (SET NULL)
- `orders.user_id` → `users.id` (CASCADE DELETE)
- `order_items.order_id` → `orders.id` (CASCADE DELETE)
- `order_items.product_id` → `products.id` (RESTRICT)
- `reviews.user_id` → `users.id` (CASCADE DELETE)
- `reviews.product_id` → `products.id` (CASCADE DELETE)

**REQ-DB-3. Индекстер:**
Өнімділікті қамтамасыз ету үшін индекстер қажет:
- `users(email)` - UNIQUE INDEX
- `products(seller_id, category_id)` - COMPOSITE INDEX
- `orders(user_id, created_at)` - COMPOSITE INDEX
- `reviews(product_id)` - INDEX

---

### 3.4. API интерфейсінің талаптары

**REQ-API-1. REST принциптері:**
- Барлық endpoints REST конвенцияларын ұстануы керек (GET, POST, PUT, DELETE)
- URL-дарда етістіктер болмауы керек (дұрыс: `/products/{id}`, қате: `/get-product/{id}`)
- HTTP статустарын дұрыс қолдану:
  - `200 OK` - сәтті GET/PUT
  - `201 Created` - сәтті POST
  - `204 No Content` - сәтті DELETE
  - `400 Bad Request` - валидация қателері
  - `401 Unauthorized` - аутентификация қажет
  - `403 Forbidden` - қол жеткізу тыйым салынған
  - `404 Not Found` - ресурс табылмады
  - `500 Internal Server Error` - сервер қатесі

**REQ-API-2. JSON формат:**
- Барлық сұраныстар мен жауаптар JSON форматында
- Тақырып: `Content-Type: application/json`
- CamelCase емес, snake_case пайдалану (мысалы, `first_name`)

**REQ-API-3. Автоматты құжаттама:**
- OpenAPI 3.0 (Swagger) құжаттамасын FastAPI автоматты жасауы керек
- Құжаттама қол жеткізу: `/docs` (Swagger UI) және `/redoc` (ReDoc)

**REQ-API-4. Қателерді өңдеу:**
Қателер стандартты форматта қайтарылуы керек:
```json
{
  "detail": "Қате сипаттамасы",
  "error_code": "INSUFFICIENT_STOCK",  // қосымша
  "field": "stock_quantity"  // егер валидация қатесі болса
}
```

---

## 4. Тестілеу талаптары

**REQ-TEST-1. Бірлік тестілері (Unit Tests):**
- Backend критикалық функцияларын қамту: ≥ 70%
- Тестілеу құралдары: `pytest`
- Тексерілуі керек:
  - Құпия сөздерді хэштеу/тексеру
  - JWT токендерін жасау/декодтау
  - Бизнес-логика (қалдықтарды кеміту, әмиян балансын есептеу)

**REQ-TEST-2. Интеграциялық тестілер:**
- API endpoints сценарийлерін тексеру
- Мысал: тіркеу → кіру → тауар қосу → тапсырыс → мәртебе өзгерту
- Тестілік дерекқорды пайдалану (SQLite in-memory)

**REQ-TEST-3. Қауіпсіздік тестілеуі:**
- SQL Injection әрекеттері
- Басқаның деректеріне қол жеткізу (IDOR - Insecure Direct Object Reference)
- Авторизациясыз қорғалған endpoints-ке қол жеткізу
- Мерзімі өткен токендер

---

## 5. Құжаттама талаптары

**REQ-DOC-1. Пайдаланушы нұсқаулығы:**
- Жүйеде тіркеу/кіру нұсқаулығы
- Тауарларды іздеу және тапсырыс рәсімдеу
- Сатушы панелін пайдалану
- Әкімші панелін пайдалану

**REQ-DOC-2. Техникалық құжаттама:**
- Орналастыру нұсқаулығы (deployment)
- Дерекқор схемасы (ER-диаграмма)
- API endpoints сипаттамасы (автоматты Swagger + қосымша сипаттама)
- Архитектуралық шешімдердің негіздемесі

**REQ-DOC-3. Әзірлеушіге арналған құжаттама:**
- Орту баптау нұсқаулығы (development setup)
- Кодтық стандарттар (PEP 8 Python үшін, Airbnb Style Guide React үшін)
- Git workflow (branches, commit хабарламалары)

---

## 6. Әзірлеу кезеңдері

### 6.1. Кезең 1: Жобалау (2 апта)

**Нәтижелер:**
- ✅ Дерекқор схемасы (ER-диаграмма)
- ✅ API endpoints тізімі
- ✅ UI/UX макеттері (Figma немесе wireframes)
- ✅ Технологиялық стекті таңдау негіздемесі

---

### 6.2. Кезең 2: Backend әзірлеу (4 апта)

**Нәтижелер:**
- ✅ SQLAlchemy-де дерекқор модельдері
- ✅ Аутентификация жүйесі (тіркеу, кіру, JWT)
- ✅ Тауарларға CRUD операциялары
- ✅ Тапсырыстарға логика (жасау, мәртебе басқару)
- ✅ Пікірлерге қолдау
- ✅ Әмиян функционалы
- ✅ Әкімші endpoints (статистика, есептер)
- ✅ Бірлік тестілері

---

### 6.3. Кезең 3: Frontend әзірлеу (4 апта)

**Нәтижелер:**
- ✅ React компоненттері (ProductCard, Header, Footer, т.б.)
- ✅ Роутинг (React Router)
- ✅ Redux Store (auth, cart, products, orders slices)
- ✅ Беттер (HomePage, CartPage, CheckoutPage, ProfilePage, т.б.)
- ✅ Сатушы және Әкімші панельдері
- ✅ Responsive верстка (мобильді/десктоп)

---

### 6.4. Кезең 4: Интеграция және тестілеу (2 апта)

**Нәтижелер:**
- ✅ Frontend + Backend интеграциясы
- ✅ Барлық сценарийлерді функционалдық тестілеу
- ✅ Қауіпсіздікті тестілеу
- ✅ Өнімділікті тестілеу (Load Testing)
- ✅ Кросс-браузерлік тестілеу (Chrome, Firefox, Safari)
- ✅ Мобильді құрылғыларда тестілеу

---

### 6.5. Кезең 5: Орналастыру және құжаттама (1 апта)

**Нәтижелер:**
- ✅ Production серверіне орналастыру
- ✅ SSL сертификатын баптау (HTTPS)
- ✅ Дерекқорды бэкаптеуді баптау
- ✅ Пайдаланушы нұсқаулығы
- ✅ Техникалық құжаттама
- ✅ Әзірлеушіге README

**Жалпы әзірлеу уақыты: 13 апта (~3 ай)**

---

## 7. Қабылдау критерийлері

Жүйе келесі критерийлерге сәйкес болған кезде қабылдауға дайын:

**CR-1. Функционалдық толықтық:**
- ✅ Барлық FR-* талаптары іске асырылған
- ✅ Барлық пайдаланушы рөлдері дұрыс жұмыс істейді
- ✅ Барлық негізгі сценарийлер тестіленген және өтті

**CR-2. Өнімділік:**
- ✅ Бет жүктелуі < 3 секунд (орташа жүктемеде)
- ✅ API жауап уақыты < 500 мс (90% сұраныстар үшін)
- ✅ Жүйе 100 бір уақытта пайдаланушыларды қолдайды

**CR-3. Қауіпсіздік:**
- ✅ Құпия сөздер хэшталады (bcrypt)
- ✅ JWT токендер қолданылады және жарамды
- ✅ Барлық қорғалған endpoints авторизацияны тексереді
- ✅ SQL Injection/XSS қорғанысы

**CR-4. Пайдаланушылық:**
- ✅ Интуитивті интерфейс (техникалық білімсіз пайдаланушыларға)
- ✅ Мобильді құрылғыларға бейімделу
- ✅ Түсінікті қате хабарламалары

**CR-5. Құжаттама:**
- ✅ Пайдаланушы нұсқаулығы бар
- ✅ Техникалық құжаттама бар (дерекқор схемасы, API құжаттама)
- ✅ Орналастыру нұсқаулығы бар

---

## 8. Кепілдіктер және жауапкершіліктер

**Орындаушы кепілдіктері:**
- Жүйе қабылдау критерийлеріне толық сәйкес келеді
- Барлық критикалық бизнес-процестер дұрыс жұмыс істейді
- Деректер тұтастығы қамтамасыз етіледі (ACID транзакциялары)

**Орындаушы жауапкершіліктері:**
- Қабылдаудан кейін 30 күн ішінде техникалық қолдау
- Критикалық қателерді 48 сағат ішінде түзету
- Кіші қателерді 7 күн ішінде түзету

**Тапсырыс берушінің жауапкершіліктері:**
- Серверді ұсыну (немесе хостинг құнын төлеу)
- Тестілеу кезінде уақытылы кері байланыс беру
- Өнімді баптау мен қолдауға бюджет бөлу (ұзақ мерзімді перспективада)

---

## 9. Жоба тәуекелдері

| Тәуекел | Ықтималдық | Әсері | Азайту стратегиясы |
|--------|-------------|--------|-------------------|
| Талаптардың өзгеруі | Орташа | Жоғары | Гибкі әзірлеу (Agile), кезеңдік қабылдау |
| Техникалық қиындықтар (жаңа технологиялар) | Төмен | Орташа | Прототип, ерте тестілеу, сарапшылармен кеңесу |
| Мерзімдерден асу | Орташа | Орташа | Резервтік уақыт қалдыру (+20%), басымдықтарды басқару |
| Қауіпсіздік кемшіліктері | Төмен | Жоғары | Қауіпсіздікті тестілеу, код-шолу (code review) |
| Деректер жоғалуы | Төмен | Жоғары | Күнделікті бэкап, бэкаптерді тестілеу |
| Масштабтау кезіндегі өнімділік мәселелері | Орташа | Орташа | Жүктеме тестілеуі, индекстеу, кэштеу |

---

**Техникалық тапсырманың қорытындысы:**

Бұл ТТ шағын азық-түлік бизнесіне арналған толық функционалды электрондық коммерция платформасын әзірлеу үшін техникалық және функционалдық талаптарды сипаттайды. Жүйе қауіпсіз, өнімді, пайдаланушыға ыңғайлы және масштабталушы болуы керек, сонымен қатар заманауи веб-әзірлеу стандарттары мен ең жақсы практикаларға сәйкес болуы керек.

**Күтілетін нәтиже:** Қабылдау критерийлерін толық қанағаттандыратын және нақты бизнес-есепті тиімді шешетін өнімді жасау.
